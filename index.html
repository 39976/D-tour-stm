<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <title>Détours STM</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    crossorigin="" />

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    #map {
      width: 100%;
      height: 100%;
    }

    .floating-buttons {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 1000;
    }

    .floating-buttons button {
      padding: 8px 12px;
      background: #0072bc;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 15px;
      font-weight: bold;
    }

    .floating-buttons button:hover {
      background: #005a95;
    }
  </style>
</head>

<body>

  <!-- CARTE -->
  <div id="map"></div>

  <!-- BOUTONS AVANT / APRÈS -->
  <div class="floating-buttons">
    <button id="avant">Avant</button>
    <button id="apres">Après</button>
  </div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    crossorigin=""></script>

  <script>
    // 1. Initialisation de la carte sur Montréal
    const map = L.map('map').setView([45.508, -73.587], 12);

    // 2. Fond de carte OpenStreetMap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '© OpenStreetMap'
    }).addTo(map);

    // 3. Exemple : un arrêt (Berri-UQAM)
    const arret = L.marker([45.5151, -73.5619]).addTo(map);
    arret.bindPopup("Arrêt STM – Berri-UQAM");

    // 4. Exemple : un petit tracé de ligne de bus
    const ligne = [
      [45.5295, -73.6100], 
      [45.5225, -73.5980],
      [45.5180, -73.5820],
      [45.5151, -73.5619]
    ];

    L.polyline(ligne, {
      color: "#0072bc",
      weight: 5,
      opacity: 0.9
    }).addTo(map);

    // 5. Boutons AVANT / APRÈS – tu mettras ta logique plus tard
    document.getElementById("avant").onclick = () => {
      alert("Vue AVANT : à remplacer par ta vraie logique plus tard.");
    };

    document.getElementById("apres").onclick = () => {
      alert("Vue APRÈS : à remplacer par ta vraie logique.");
    };
  </script>

</body>
</html>
