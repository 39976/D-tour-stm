function drawLinesForStreet(streetName, lat, lng) {
  clearLines();

  const name = streetName.trim();
  const filt = document.getElementById("ligne").value.trim();

  const lignes = streetLines[name] || [];

  const lignesFiltrees = filt
    ? lignes.filter(n => n === filt)
    : lignes;

  if (lignesFiltrees.length === 0) return lignes;

  // Segment court et horizontal
  const lonDelta = 0.002;  // ~200m
  const latDelta = 0.0002;

  lignesFiltrees.forEach(num => {
    const col = lineColors[num] || "#0072bc";

    const coords = [
      [lat - latDelta, lng - lonDelta],
      [lat,            lng],
      [lat + latDelta, lng + lonDelta]
    ];

    const poly = L.polyline(coords, {
      color: col,
      weight: 6,
      opacity: 0.9
    }).addTo(map);

    displayedLines.push(poly);
  });

  return lignesFiltrees;
}
